<!DOCTYPE html>
<!-- src/app/movie-card/movie-card.component.html -->
<div>
  <nav>
    <button mat-button color="primary" (click)="redirectProfile()">
      User Profile
    </button>
    <button mat-button color="primary" (click)="logout()">Logout</button>
  </nav>
  <div style="display: flex; flex-wrap: wrap; gap: 20px">
    <mat-card
      *ngFor="let movie of movies"
      style="flex: 1 1 calc(30% - 20px); margin: 10px"
    >
      <mat-card-header>
        <mat-card-title>{{ movie.Title }}</mat-card-title>
        <mat-card-subtitle
          >Directed by: {{ movie.Director.Name }}</mat-card-subtitle
        >
      </mat-card-header>
      <img
        src="{{ movie.ImagePath }}"
        alt="{{ movie.Title }}"
        style="
          width: 100%;
          height: 200px;
          object-fit: cover;
          object-position: center;
        "
      />
      <mat-card-actions>
        <button
          mat-button
          color="primary"
          (click)="showGenre(movie.Genre.Name)"
        >
          Genre
        </button>
        <button
          mat-button
          color="primary"
          (click)="showDirector(movie.Director.Name)"
        >
          Director
        </button>
        <button mat-button color="primary" (click)="showSynopsis(movie)">
          Synopsis
        </button>
        <button
          mat-icon-button
          color="warn"
          (click)="switchFavorites(movie._id)"
        >
          <mat-icon>{{
            favoriteMovies.includes(movie._id) ? "favorite" : "favorite_border"
          }}</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
